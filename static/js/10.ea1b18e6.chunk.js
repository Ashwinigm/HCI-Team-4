(this.webpackJsonp4list=this.webpackJsonp4list||[]).push([[10,12],{152:function(e,t,a){var s=a(153),n={searchData:function(e,t){var a=["description","address","place","title","category","startDate","endDate","venue"];return e.filter((function(e){for(var s=!1,n=0;n<a.length;n+=1)if(a[n].toLowerCase().includes("date")){var r=e[a[n]].toLowerCase().replace("/","-");s=s||r.includes(t.toLowerCase())}else s=s||e[a[n]].toLowerCase().includes(t.toLowerCase());return s}))},getAreaData:function(e,t){return e.filter((function(e){return e.address.toLowerCase().includes(t.City.toLowerCase())}))},getDetails:function(e){var t={category:"",startDate:"",endDate:"",venue:"",size:"",startTime:"",endTime:"",daysOfWeek:[]};if(e.category)for(var a in t)"daysOfWeek"===a?t.daysOfWeek=s.getDaysOfWeek(new Date(e.startDate),new Date(e.endDate)):t[a]=e[a];return t},addDateToTitle:function(e,t,a){if(e){var s=e.split("/"),n=t.split("/"),r=s[0]+"/"+s[1],c=n[0]+"/"+n[1];return r===c?r+"\t"+a:r+" - "+c+"\t"+a}return""},generateList:function(e){var t=[],a=0,r=new Set;function c(e){for(var t=0;t<e.length;t+=1)r.add(e[t])}if(e.length>0)for(var i=new Date(Date.now()),l=0,o=0;l<365&&o<20;){var d=n.findListOfCurrentDate(i,e);c(d.ids);var j=d.results;if(j.length>0){var u={data:j,length:j.length,weekDay:s.getDaysOfWeek(i,i)[0],date:i.getMonth()+1+"/"+i.getDate()+"/"+i.getFullYear(),day:i.getDate(),month:i.getMonth(),year:i.getFullYear()};t[a++]=u}var f=new Date(i);if(i.setDate(i.getDate()+1),f.getTime()===i.getTime()){console.log("time error in generating list");break}r.size>=e.length&&(o+=1),l+=1}return t},findListOfCurrentDate:function(e,t){for(var a=[],r=[],c=0,i=0;i<t.length;){var l=t[i];s.checkIfWithinDate(e,new Date(l.startDate),new Date(l.endDate))&&(r[c]=l.id,a[c++]={id:l.id,title:l.title,image:l.image,details:n.getDetails(l)}),i+=1}return{ids:r,results:a}},filterData:function(e,t){var a=e,s=["category","venue","size","time"];if(a.length>0){var r=function(e){s.includes(e)&&("time"===e?""!==t[e]&&(a=a.filter((function(e){var a=e.startDate,s=a+" "+e.startTime,r=a+" "+e.endTime,c=a+" "+t.time;return n.checkTimeRange(new Date(s),new Date(r),new Date(c))}))):"size"===e?""!==t[e]&&(a=a.filter((function(e){return n.checkSizeRange(e.size,t.size)}))):""!==t[e]&&(a=a.filter((function(a){return a[e]===t[e]}))))};for(var c in t)r(c)}return a},filterTimedData:function(e,t){var a=e,s=["month","day","year","weekDay"];if(a.length>0){var n=function(e){s.includes(e)&&""!==t[e]&&(a=a.filter((function(a){return a[e]==t[e]})))};for(var r in t)n(r)}return a},checkTimeRange:function(e,t,a){if(e.getHours()===t.getHours()){if(a.getHours()===e.getHours())return!0}else{for(;e.getHours()!==t.getHours();){if(a.getHours()===e.getHours())return!0;e.setHours(e.getHours()+1)}if(a.getHours()===e.getHours())return!0}return!1},checkSizeRange:function(e,t){var a=0;return a=">10"===e?11:parseInt(e,10),"less than 5 ppl"===t?a<5:"5 to 9 ppl"===t?5<=a&&a<=9:"10 ppl or more"===t&&a>=10},getVenues:function(e){var t=new Set;if(e)for(var a=0;a<e.length;a+=1)t.add(e[a].venue);return Array.from(t)},getCategories:function(e){var t=new Set;if(e)for(var a=0;a<e.length;a+=1)t.add(e[a].category);return Array.from(t)}};e.exports=n},153:function(e,t){var a={checkIfWithinDate:function(e,t,a){if(t.getTime()===a.getTime()){var s=t.getFullYear()===e.getFullYear(),n=t.getMonth()===e.getMonth(),r=t.getDate()===e.getDate();if(s&&n&&r)return!0}if(t.getTime()!==a.getTime()){for(;t.getTime()!==a.getTime();){var c=t.getFullYear()===e.getFullYear(),i=t.getMonth()===e.getMonth(),l=t.getDate()===e.getDate();if(c&&i&&l)return!0;t.setDate(t.getDate()+1)}var o=t.getFullYear()===e.getFullYear(),d=t.getMonth()===e.getMonth(),j=t.getDate()===e.getDate();if(o&&d&&j)return!0}return!1},getDaysOfWeek:function(e,t){var a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=[],n=0;for(s[n++]=a[e.getDay()];e.getTime()!==t.getTime();)e.setDate(e.getDate()+1),s[n++]=a[e.getDay()];return s}};e.exports=a},204:function(e,t,a){},292:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p}));var s=a(9),n=a(0),r=a(52),c=a(1);function i(e){var t=["category","venue","size"],a=[],s=0;for(var n in e.details)t.includes(n)&&(a[s++]=Object(c.jsxs)("div",{className:"d-flex flex-wrap text-dark gap-3 me-5",children:[Object(c.jsx)("div",{className:"",children:Object(c.jsxs)("b",{children:[n.charAt(0).toUpperCase()+n.slice(1).toLowerCase(),":"]})}),Object(c.jsx)("div",{className:"",children:e.details[n]})]},s));return Object(c.jsxs)("div",{className:"d-flex flex-column w-100 font-monospace gap-3 fs-6 mt-sm-3",children:[Object(c.jsx)("div",{className:"d-flex flex-wrap gap-3",children:a}),Object(c.jsxs)("div",{className:"d-flex flex-wrap gap-3",children:[Object(c.jsxs)("div",{className:"d-flex flex-wrap text-dark gap-3 me-5",children:[Object(c.jsx)("div",{className:"",children:Object(c.jsx)("b",{children:"Start Time:"})}),Object(c.jsx)("div",{className:"",children:e.details.startTime})]}),Object(c.jsxs)("div",{className:"d-flex flex-wrap text-dark gap-3 me-5",children:[Object(c.jsx)("div",{className:"",children:Object(c.jsx)("b",{children:"End Time:"})}),Object(c.jsx)("div",{className:"",children:e.details.endTime})]})]})]})}a(204);function l(e){var t=e.id,a=e.title,s=e.details,n=e.image;return Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("div",{className:"",children:Object(c.jsxs)("div",{className:"row mx-auto",children:[Object(c.jsx)(r.b,{to:"/event/"+t,className:"col-12 col-sm-4 col-lg-3 col-xxl-2 px-0",style:{maxWidth:"100%",maxHeight:"100%"},children:Object(c.jsx)("div",{className:"ratio ratio-4x3 ",children:Object(c.jsx)("img",{src:"/HCI-Team-4/images/"+n,width:"100%",height:"100%",style:{objectFit:"scale-down"}})})}),Object(c.jsx)(r.b,{to:"/event/"+t,className:"text-decoration-none col-12 col-sm-8 col-lg-9 p-0 ps-1 ps-sm-5",children:Object(c.jsxs)("div",{className:"d-flex flex-column gap-3",children:[Object(c.jsx)("div",{className:"",style:{fontSize:"150%"},children:a}),Object(c.jsx)(i,{details:s})]})})]})})})}var o=a(130);function d(e){return Object(c.jsx)("div",{className:"d-flex flex-wrap gap-4",children:Object(c.jsxs)("a",{"data-bs-toggle":"offcanvas",href:"#eventFilter",role:"button",className:"text-decoration-none d-flex flex-column fs-4",children:[Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)(o.b,{})}),Object(c.jsx)("div",{className:"",children:"Filter"})]})})}var j=a(2);function u(e){return Object(c.jsxs)("div",{className:"d-flex flex-column gap-3 fs-5",children:[Object(c.jsx)("div",{className:"fw-bold",children:"Choose category"}),Object(c.jsxs)("select",{className:"form-select bg-secondary bg-opacity-25 p-3 ps-2 fs-5",style:{border:"none",transition:"none"},onChange:function(t){e.setStates(Object(j.a)(Object(j.a)({},e.states),{},{category:t.target.value}))},value:e.states.category,children:[Object(c.jsx)("option",{value:"",children:"Choose"}),e.categories.map((function(e){return Object(c.jsx)("option",{value:e,children:e})}))]})]})}function f(e){for(var t=[],a=1;a<=12;a+=1)t[a-1]=Object(c.jsx)("option",{value:a-1,children:a});for(var s=[],n=1;n<=31;n+=1)s[n-1]=Object(c.jsx)("option",{value:n,children:n});return Object(c.jsxs)("div",{className:"d-flex flex-column gap-3 fs-5",children:[Object(c.jsx)("div",{className:"fw-bold",children:"Date (MM DD YY)"}),Object(c.jsxs)("div",{className:"d-flex flex-wrap gap-3",children:[Object(c.jsxs)("select",{className:"form-select bg-secondary bg-opacity-25 p-3 ps-2 fs-5",style:{border:"none",transition:"none",width:"80px",maxWidth:"100%"},onChange:function(t){e.setStates(Object(j.a)(Object(j.a)({},e.states),{},{month:t.target.value}))},value:e.states.month,children:[Object(c.jsx)("option",{value:"",children:"MM"}),t]}),Object(c.jsxs)("select",{className:"form-select bg-secondary bg-opacity-25 p-3 ps-2 fs-5",style:{border:"none",transition:"none",width:"80px",maxWidth:"100%"},onChange:function(t){e.setStates(Object(j.a)(Object(j.a)({},e.states),{},{day:t.target.value}))},value:e.states.day,children:[Object(c.jsx)("option",{value:"",children:"DD"}),s]}),Object(c.jsxs)("select",{className:"form-select bg-secondary bg-opacity-25 p-3 ps-2 fs-5",style:{border:"none",transition:"none",width:"175px",maxWidth:"100%"},onChange:function(t){e.setStates(Object(j.a)(Object(j.a)({},e.states),{},{year:t.target.value}))},value:e.states.year,children:[Object(c.jsx)("option",{value:"",children:"YY"}),Object(c.jsx)("option",{value:"2021",children:"2021"}),Object(c.jsx)("option",{value:"2022",children:"2022"})]})]})]})}function b(e){return Object(c.jsx)("div",{className:"btn btn-primary mt-5 p-3 fs-5 fw-bold",onClick:function(t){var a={};for(var s in e.states)a[s]="";e.setStates(a),t.preventDefault()},children:"Reset"})}function x(e){return Object(c.jsxs)("div",{className:"d-flex flex-column gap-3 fs-5",children:[Object(c.jsx)("div",{className:"fw-bold",children:"Size"}),Object(c.jsxs)("select",{className:"form-select bg-secondary bg-opacity-25 p-3 ps-2 fs-5",style:{border:"none",transition:"none",width:"250px",maxWidth:"100%"},onChange:function(t){e.setStates(Object(j.a)(Object(j.a)({},e.states),{},{size:t.target.value}))},value:e.states.size,children:[Object(c.jsx)("option",{value:"",children:"Choose"}),Object(c.jsx)("option",{value:"less than 5 ppl",children:"less than 5 ppl"}),Object(c.jsx)("option",{value:"5 to 9 ppl",children:"5 to 9 ppl"}),Object(c.jsx)("option",{value:"10 ppl or more",children:"10 ppl or more"})]})]})}function h(e){for(var t=[],a=0;a<=23;a+=1)t[a]=a>=12?Object(c.jsxs)("option",{value:a+":00",children:[a,":00 pm"]}):Object(c.jsxs)("option",{value:a+":00",children:[a,":00 am"]});return Object(c.jsxs)("div",{className:"d-flex flex-column gap-3 fs-5",children:[Object(c.jsx)("div",{className:"fw-bold",children:"Active time of event"}),Object(c.jsxs)("select",{className:"form-select bg-secondary bg-opacity-25 p-3 ps-2 fs-5",style:{border:"none",transition:"none",width:"150px",maxWidth:"100%"},onChange:function(t){e.setStates(Object(j.a)(Object(j.a)({},e.states),{},{time:t.target.value}))},value:e.states.time,children:[Object(c.jsx)("option",{value:"",children:"Choose"}),t]})]})}function v(e){return Object(c.jsxs)("div",{className:"d-flex flex-column gap-3 fs-5",children:[Object(c.jsx)("div",{className:"fw-bold",children:"Venue"}),Object(c.jsxs)("select",{className:"form-select bg-secondary bg-opacity-25 p-3 ps-2 fs-5",style:{border:"none",transition:"none"},onChange:function(t){e.setStates(Object(j.a)(Object(j.a)({},e.states),{},{venue:t.target.value}))},value:e.states.venue,children:[Object(c.jsx)("option",{value:"",children:"Choose"}),e.venues.map((function(e){return Object(c.jsx)("option",{value:e,children:e})}))]})]})}function m(e){var t=e.states,a=e.setStates;return Object(c.jsxs)("div",{className:"offcanvas offcanvas-start",tabindex:"-1",id:"eventFilter",children:[Object(c.jsxs)("div",{className:"offcanvas-header",children:[Object(c.jsx)("div",{className:"offcanvas-title fs-1",children:"Filters"}),Object(c.jsx)("button",{type:"button",className:"btn-close text-reset fs-4","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),Object(c.jsx)("div",{className:"offcanvas-body",children:Object(c.jsxs)("div",{className:"d-flex flex-column gap-4",children:[Object(c.jsx)(u,{categories:e.categories,states:t,setStates:a}),Object(c.jsx)(f,{states:t,setStates:a}),Object(c.jsx)(h,{states:t,setStates:a}),Object(c.jsx)(v,{states:t,setStates:a,venues:e.venues}),Object(c.jsx)(x,{states:t,setStates:a}),Object(c.jsx)(b,{states:t,setStates:a})]})})]})}function g(e){document.getElementById("pageTitle")&&(document.getElementById("pageTitle").innerHTML="4List - "+e.text);var t=e.data;return Object(c.jsxs)("div",{className:"container-xxl d-flex flex-column gap-4",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12 py-3",children:Object(c.jsx)("div",{className:"row d-flex align-items-center g-4",children:Object(c.jsxs)("div",{className:"col d-flex flex-wrap align-items-center",children:[Object(c.jsx)("div",{className:"display-5 fw-bold me-auto",children:e.text}),Object(c.jsx)(d,{})]})})})}),e.error&&Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-12 py-3 fs-1",children:["No Results found, ",Object(c.jsx)("a",{href:"/event",children:"Click here to refresh events"})]})}),!e.error&&t.map((function(e){return Object(c.jsxs)("div",{className:"row g-4 pb-5",children:[Object(c.jsxs)("div",{className:"col-12",children:[Object(c.jsxs)("div",{className:"row g-3",children:[Object(c.jsx)("div",{className:"col-md-5 fs-3",children:Object(c.jsxs)("div",{className:"d-flex flex-row gap-4",children:[Object(c.jsx)("div",{className:"",children:e.date}),Object(c.jsx)("div",{className:"",children:e.weekDay})]})}),Object(c.jsx)("div",{className:"col-md-7",children:Object(c.jsxs)("div",{className:"d-flex flex-wrap gap-2 text-secondary fs-3",children:[Object(c.jsx)("div",{className:"",children:e.length}),Object(c.jsx)("div",{className:"",children:"results found"})]})})]}),Object(c.jsx)("hr",{})]}),e.data&&Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("div",{className:"row gy-5",children:e.data.map((function(e){return Object(c.jsx)(l,{id:e.id,title:e.title,details:e.details,image:e.image},e.id)}))})})]},e.date)})),Object(c.jsx)(m,{venues:e.venues,categories:e.categories,states:e.states,setStates:e.setStates})]})}var O=a(152);function p(e){var t=Object(n.useState)((function(){return[]})),a=Object(s.a)(t,2),r=a[0],i=a[1],l=Object(n.useState)((function(){return[]})),o=Object(s.a)(l,2),d=o[0],j=o[1],u=Object(n.useState)((function(){return!1})),f=Object(s.a)(u,2),b=f[0],x=f[1],h=Object(n.useState)((function(){return{category:"",month:"",day:"",weekDay:"",year:"",time:"",size:"",venue:""}})),v=Object(s.a)(h,2),m=v[0],p=v[1];Object(n.useEffect)((function(){fetch("/HCI-Team-4/db/events.txt").then((function(e){return e.text()})).then((function(t){var a=JSON.parse(t);if(e.searchParam){var s=O.searchData(a,e.searchParam);s=O.getAreaData(s,e.area),console.log(s),i(s),j(s)}else{var n=O.getAreaData(a,e.area);i(n),j(n)}}))}),[e.searchParam,e.area]),Object(n.useEffect)((function(){var e=d;e=O.filterData(e,m),e=O.generateList(e),e=O.filterTimedData(e,m),i(e),e.length>0?x(!1):x(!0)}),[d,m]);var y=O.getVenues(d),N=O.getCategories(d),D="Events";return e.searchParam&&(D="Event Search: "+e.searchParam),Object(c.jsx)(g,{error:b,data:r,venues:y,categories:N,states:m,setStates:p,text:D})}},521:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return c}));var s=a(292),n=(a(0),a(8)),r=a(1);function c(e){var t=Object(n.h)().key;return Object(r.jsx)(s.default,{searchParam:t,area:e.area})}}}]);
//# sourceMappingURL=10.ea1b18e6.chunk.js.map